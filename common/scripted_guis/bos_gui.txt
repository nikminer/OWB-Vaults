scripted_gui = {
	bos_window_btn = {
		context_type = selected_state_context
		parent_window_token = selected_state_view
		
		window_name = "bos_window_btn"

		effects = {
			open_button_click = {
				ROOT = {
					hide_all_state_windows = yes
					set_country_flag = show_bos_state_interface
					initialize_bos_levels = yes
				}
			}
			close_button_click = {
				ROOT = {
					clr_country_flag = show_bos_state_interface
				}
			}
		}

		triggers = {
			open_button_visible = {
				has_BOS = yes
				ROOT = {
					NOT = { has_country_flag = show_bos_state_interface }
				}
			}
			close_button_visible = {
				has_BOS = yes
				ROOT = {
					has_country_flag = show_bos_state_interface
				}
			}
		}
	}


	bos_window = {
		context_type = selected_state_context
		parent_window_token = selected_state_view
		window_name = "bos_window"
		
		visible = {
			ROOT = {
				is_ai = no
				has_country_flag = show_bos_state_interface
			}
			has_BOS = yes
		}

		triggers = {
			bos_space_visible = {
				or = {
					FROM = {
						has_operation_token = {
							tag = BOS
							token = token_bos_elder
						}
					}
					root = {
						controls_state = 157
					}	
				}
			}

			bos_admin_visible = {
				or = {
					FROM = {
						has_operation_token = {
							tag = BOS
							token = token_bos_elder
						}
					}
					root = {
						controls_state = 157
					}
				}
			}

			bos_slots_visible = {
				or = {
					FROM = {
						has_operation_token = {
							tag = BOS
							token = token_bos_elder
						}
					}
					root = {
						controls_state = 157
					}
				}
			}
		}
	}

# Levels 
	bos_need_access_window = {
		window_name = "bos_need_access_window"
		parent_window_name = "bos_window_instance"
		visible = {
			not = {
				or = {
					controls_state = 157
					and = {
						has_country_flag = bos_level1Flag
						FROM = {
							has_operation_token = {
								tag = BOS
								token = token_bos_knight 
							}
						}
					}

					and = {
						has_country_flag = bos_level2Flag
						FROM = {
							has_operation_token = {
								tag = BOS
								token = token_bos_initiate 
							}
						}
					}

					and = {
						has_country_flag = bos_level3Flag
						FROM = {
							has_operation_token = {
								tag = BOS
								token = token_bos_scribes 
							}
						}
					}

					and = {
						has_country_flag = bos_level4Flag
						FROM = {
							has_operation_token = {
								tag = BOS
								token = token_bos_paladin 
							}
						}
					}
				}
			}
		}
	}
	bos_level_1_window = {
		window_name = "bos_level_1_window"
		parent_window_name = "bos_window_instance"
		visible = {
			has_country_flag = bos_level1Flag
			or = {
				FROM = {
					has_operation_token = {
						tag = BOS
						token = token_bos_knight 
					}
				}
				controls_state = 157
			}
		}

		effects = {
			bos_expedition_btn_click = {
				set_country_flag = {
					flag = BOS_BuildExpedition
					value = 1
				}
				add_political_power = -10
				add_manpower = -500
				set_temp_variable = {
					BOS_available_space_to_change = 2
				}
				bos_change_available_space = yes
				bos_minus_one_construction_slots_simple = yes
				
				if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_2
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_2
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = { 
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_3
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_3
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = { 

						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_4
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_4
						scope = BOS
						days = BOS_construction_time
					}
				}
			}

			bos_constructions_btn_click = {
				set_country_flag = {
					flag = BOS_BuildConstructions
					value = 1
				}
				add_political_power = -10
				add_manpower = -500
				add_offsite_building = {
					type = industrial_complex
					level = -5
				}
				add_to_variable = {
					BOS_off_map_civs = -5
				}
				set_temp_variable = {
					BOS_available_space_to_change = -4
				}
				bos_change_available_space = yes
				
				if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_2
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_2
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = { 
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_3
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_3
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = { 

						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_4
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_4
						scope = BOS
						days = BOS_construction_time
					}
				}
			}

			bos_simulator_btn_click = {
				set_country_flag = {
					flag = BOS_BuildSimulator
					value = 1
				}
				add_political_power = -30
				army_experience = -25
				set_temp_variable = {
					BOS_available_space_to_change = 10
				}
				bos_change_available_space = yes
				add_manpower = -100
				if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active
						scope = BOS
						days = BOS_simulator_construction_time
					}
				}
				else_if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_2
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_2
						scope = BOS
						days = BOS_simulator_construction_time
					}
				}
				else_if = {
					limit = { 
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_3
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_3
						scope = BOS
						days = BOS_simulator_construction_time
					}
				}
				else_if = {
					limit = { 

						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_4
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_4
						scope = BOS
						days = BOS_simulator_construction_time
					}
				}

				add_dynamic_modifier = {
					modifier = bos_admin_building_simulator_active
					scope = BOS
					days = BOS_simulator_construction_time
				}
			}

			bos_training_btn_click = {
				set_country_flag = {
					flag = BOS_BuildTraining
					value = 1
				}

				add_political_power = -10
				add_manpower = -500
				set_temp_variable = {
					BOS_available_space_to_change = 2
				}
				bos_change_available_space = yes
				bos_minus_one_construction_slots_simple = yes
				
				if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_2
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_2
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = { 
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_3
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_3
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = { 

						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_4
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_4
						scope = BOS
						days = BOS_construction_time
					}
				}
			}
		}

		triggers = {
			bos_expedition_btn_visible = {
				not = {
					has_country_flag = BOS_BuildExpedition
				}
				controls_state = 157
				set_temp_variable = {
					BOS_temp_building_to_test = BOS.BOS_expeditionary_departments
				}
				set_temp_variable = {
					BOS_temp_building_to_test_max = BOS.BOS_maximum_expeditionary_departments_allowed
				}
				bos_has_not_reached_building_cap = yes
			}
			bos_expedition_btn_click_enabled = {
				has_manpower > 499
				has_political_power > 9
				set_temp_variable = {
					BOS_need_construction_slots_num = 1
				}
				BOS_has_x_available_construction_slots = yes
				set_temp_variable = {
					BOS_available_space_to_check_num = 2
				}
				BOS_has_x_available_space = yes
				BOS_has_x_available_administration_capacity = yes
			}
			bos_expedition_btn_executing_visible = {
				has_country_flag = BOS_BuildExpedition

				set_temp_variable = { bos_part = BOS_construction_time }
				divide_temp_variable = { bos_part = 5 }
				set_temp_variable = { bos_current = bos_part }
				
				if = {
					limit = {
						check_variable = { BOS_build_expedition_progress < bos_current }
					}
					set_temp_variable = { bos_expedition_executing_frame = 1 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_expedition_progress < bos_current }
					}
					set_temp_variable = { bos_expedition_executing_frame = 2 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_expedition_progress < bos_current }
					}
					set_temp_variable = { bos_expedition_executing_frame = 3 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_expedition_progress < bos_current }
					}
					set_temp_variable = { bos_expedition_executing_frame = 4 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_expedition_progress < bos_current }
					}
					set_temp_variable = { bos_expedition_executing_frame = 5 }
				}
			}
			bos_expedition_btn_executing_text_visible = {
				has_country_flag = BOS_BuildExpedition
			}
			
			bos_constructions_btn_visible = {
				not = {
					has_country_flag = BOS_BuildConstructions
				}
				controls_state = 157
				set_temp_variable = {
					BOS_temp_building_to_test = BOS_condensed_civilian_workshop
				}
				set_temp_variable = {
					BOS_temp_building_to_test_max = BOS_maximum_condensed_workshops_allowed
				}
				bos_has_not_reached_building_cap = yes
			}
			bos_constructions_btn_click_enabled = {
				has_political_power > 9
				has_manpower > 499
				BOS_has_x_available_administration_capacity = yes
				custom_trigger_tooltip = {
					tooltip = has_five_offmap_civs
					check_variable = {
						BOS_off_map_civs > 4
					}
				}
				#Hide the tooltip if its not relevant
				if = {
					limit = {
						NOT = {
							num_of_civilian_factories > 5
						}
					}
					num_of_civilian_factories > 5
				}
			}
			bos_constructions_btn_executing_visible = {
				has_country_flag = BOS_BuildConstructions

				set_temp_variable = { bos_part = BOS_construction_time }
				divide_temp_variable = { bos_part = 5 }
				set_temp_variable = { bos_current = bos_part }
				
				if = {
					limit = {
						check_variable = { BOS_build_constructor_progress < bos_current }
					}
					set_temp_variable = { bos_constructions_executing_frame = 1 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_constructor_progress < bos_current }
					}
					set_temp_variable = { bos_constructions_executing_frame = 2 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_constructor_progress < bos_current }
					}
					set_temp_variable = { bos_constructions_executing_frame = 3 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_constructor_progress < bos_current }
					}
					set_temp_variable = { bos_constructions_executing_frame = 4 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_constructor_progress < bos_current }
					}
					set_temp_variable = { bos_constructions_executing_frame = 5 }
				}
			}
			bos_constructions_btn_executing_text_visible = {
				has_country_flag = BOS_BuildConstructions
			}

			bos_simulator_btn_visible = {
				not = {
					or = {
						has_country_flag = BOS_BuildSimulator
						has_country_flag = simulator_decisions_enabled
					}
				}
				controls_state = 157
			}
			bos_simulator_btn_click_enabled = {
				
				has_political_power > 29
				has_army_experience > 24

				has_completed_focus = bos_nf_new_developments
				has_manpower > 99
				BOS_has_x_available_administration_capacity = yes
				set_temp_variable = {
					BOS_available_space_to_check_num = 10
				}
				BOS_has_x_available_space = yes
			}
			bos_simulator_btn_executing_visible = {
				has_country_flag = BOS_BuildSimulator

				set_temp_variable = { bos_part = BOS_simulator_construction_time }
				divide_temp_variable = { bos_part = 5 }
				set_temp_variable = { bos_current = bos_part }
				
				if = {
					limit = {
						check_variable = { BOS_build_simulator_progress < bos_current }
					}
					set_temp_variable = { bos_simulator_executing_frame = 1 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_simulator_progress < bos_current }
					}
					set_temp_variable = { bos_simulator_executing_frame = 2 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_simulator_progress < bos_current }
					}
					set_temp_variable = { bos_simulator_executing_frame = 3 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_simulator_progress < bos_current }
					}
					set_temp_variable = { bos_simulator_executing_frame = 4 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_simulator_progress < bos_current }
					}
					set_temp_variable = { bos_simulator_executing_frame = 5 }
				}
			}
			bos_simulator_btn_executing_text_visible = {
				has_country_flag = BOS_BuildSimulator
			}

			bos_training_btn_visible = {
				not = {
					has_country_flag = BOS_BuildTraining
				}
				controls_state = 157
				set_temp_variable = {
					BOS_temp_building_to_test = BOS_underground_building_training
				}
				set_temp_variable = {
					BOS_temp_building_to_test_max = BOS_maximum_training_facilities_allowed
				}
				bos_has_not_reached_building_cap = yes
			}
			bos_training_btn_click_enabled = {
				has_political_power > 9
				has_manpower > 499
				set_temp_variable = {
					BOS_need_construction_slots_num = 1
				}
				BOS_has_x_available_construction_slots = yes
				set_temp_variable = {
					BOS_available_space_to_check_num = 2
				}
				BOS_has_x_available_space = yes
				BOS_has_x_available_administration_capacity = yes
			}
			bos_training_btn_executing_visible = {
				has_country_flag = BOS_BuildTraining
				
				set_temp_variable = { bos_part = BOS_construction_time }
				divide_temp_variable = { bos_part = 5 }
				set_temp_variable = { bos_current = bos_part }
				
				if = {
					limit = {
						check_variable = { BOS_build_training_progress < bos_current }
					}
					set_temp_variable = { bos_training_executing_frame = 1 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_training_progress < bos_current }
					}
					set_temp_variable = { bos_training_executing_frame = 2 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_training_progress < bos_current }
					}
					set_temp_variable = { bos_training_executing_frame = 3 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_training_progress < bos_current }
					}
					set_temp_variable = { bos_training_executing_frame = 4 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_training_progress < bos_current }
					}
					set_temp_variable = { bos_training_executing_frame = 5 }
				}
			}
			bos_training_btn_executing_text_visible = {
				has_country_flag = BOS_BuildTraining
			}
		}

		properties = {
			bos_expedition_btn_executing = {
				frame = bos_expedition_executing_frame
			}
			bos_constructions_btn_executing = {
				frame = bos_constructions_executing_frame
			}
			bos_simulator_btn_executing = {
				frame = bos_simulator_executing_frame
			}
			bos_training_btn_executing = {
				frame = bos_training_executing_frame
			}
		}
	}

	bos_level_2_window = {
		window_name = "bos_level_2_window"
		parent_window_name = "bos_window_instance"
		visible = {
			has_country_flag = bos_level2Flag
			or = {
				FROM = {
					has_operation_token = {
						tag = BOS
						token = token_bos_initiate
					}
				}
				controls_state = 157
			}
		}

		effects = {
			bos_civil_btn_click = {
				set_country_flag = {
					flag = BOS_BuildCivil
					value = 1
				}
				add_political_power = -10
				add_manpower = -500
				157 = {
					remove_building = {
						type = industrial_complex
						level = 1
					}
				}
				set_temp_variable = {
					BOS_available_space_to_change = 1
				}
				bos_change_available_space = yes
				bos_minus_one_construction_slots_simple = yes
				
				if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_2
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_2
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = { 
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_3
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_3
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = { 
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_4
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_4
						scope = BOS
						days = BOS_construction_time
					}
				}
			}

			bos_safety_btn_click = {
				set_country_flag = {
					flag = BOS_BuildSafety
					value = 1
				}
				add_political_power = -10
				add_manpower = -500
				set_temp_variable = {
					BOS_available_space_to_change = 10
				}
				bos_change_available_space = yes
				bos_minus_one_construction_slots_simple = yes
				if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_2
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_2
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = { 
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_3
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_3
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = { 

						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_4
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_4
						scope = BOS
						days = BOS_construction_time
					}
				}
			}

			bos_smelt_btn_click = {
				set_country_flag = {
					flag = BOS_BuildSmelt
					value = 1
				}

				add_political_power = -10
				add_manpower = -500
			
				157 = {
					remove_building = {
						type = metal_generator
						level = 1
					}
				}
				set_temp_variable = {
					BOS_available_space_to_change = 1
				}
				bos_change_available_space = yes
				bos_minus_one_construction_slots_simple = yes

				if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_2
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_2
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = { 
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_3
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_3
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = { 

						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_4
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_4
						scope = BOS
						days = BOS_construction_time
					}
				}
			}

			bos_water_btn_click = {
				set_country_flag = {
					flag = BOS_BuildWater
					value = 1
				}

				add_political_power = -10
				add_manpower = -500
				157 = {
					remove_building = {
						type = water_generator
						level = 1
					}
				}
				set_temp_variable = {
					BOS_available_space_to_change = 1
				}
				bos_change_available_space = yes
				bos_minus_one_construction_slots_simple = yes
				if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_2
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_2
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = { 
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_3
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_3
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = { 

						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_4
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_4
						scope = BOS
						days = BOS_construction_time
					}
				}
			}
		}

		triggers = {
			bos_civil_btn_visible = {
				not = {
					has_country_flag = BOS_BuildCivil
				}
				controls_state = 157
			}
			bos_civil_btn_click_enabled = {
				has_manpower > 499
				has_political_power > 9
				set_temp_variable = {
					BOS_need_construction_slots_num = 1
				}
				BOS_has_x_available_construction_slots = yes
				set_temp_variable = {
					BOS_available_space_to_check_num = 1
				}
				BOS_has_x_available_space = yes
				BOS_has_x_available_administration_capacity = yes
				157 = {
					industrial_complex > 0
				}
			}
			bos_civil_btn_executing_visible = {
				has_country_flag = BOS_BuildCivil

				set_temp_variable = { bos_part = BOS_construction_time }
				divide_temp_variable = { bos_part = 5 }
				set_temp_variable = { bos_current = bos_part }
				
				if = {
					limit = {
						check_variable = { BOS_build_civil_progress < bos_current }
					}
					set_temp_variable = { bos_civil_executing_frame = 1 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_civil_progress < bos_current }
					}
					set_temp_variable = { bos_civil_executing_frame = 2 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_civil_progress < bos_current }
					}
					set_temp_variable = { bos_civil_executing_frame = 3 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_civil_progress < bos_current }
					}
					set_temp_variable = { bos_civil_executing_frame = 4 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_civil_progress < bos_current }
					}
					set_temp_variable = { bos_civil_executing_frame = 5 }
				}
			}
			bos_civil_btn_executing_text_visible = {
				has_country_flag = BOS_BuildCivil
			}

			bos_safety_btn_visible = {
				not = {
					has_country_flag = BOS_BuildSafety
				}
				controls_state = 157
				set_temp_variable = {
					BOS_temp_building_to_test = BOS_underground_building_safety_department
				}
				set_temp_variable = {
					BOS_temp_building_to_test_max = BOS_maximum_safety_departments_allowed
				}
				bos_has_not_reached_building_cap = yes
			}
			bos_safety_btn_click_enabled = {
				has_manpower > 499
				has_political_power > 9
				set_temp_variable = {
					BOS_need_construction_slots_num = 1
				}
				BOS_has_x_available_construction_slots = yes
				set_temp_variable = {
					BOS_available_space_to_check_num = 10
				}
				BOS_has_x_available_space = yes
				BOS_has_x_available_administration_capacity = yes
			}
			bos_safety_btn_executing_visible = {
				has_country_flag = BOS_BuildSafety

				set_temp_variable = { bos_part = BOS_construction_time }
				divide_temp_variable = { bos_part = 5 }
				set_temp_variable = { bos_current = bos_part }
				
				if = {
					limit = {
						check_variable = { BOS_build_safety_progress < bos_current }
					}
					set_temp_variable = { bos_safety_executing_frame = 1 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_safety_progress < bos_current }
					}
					set_temp_variable = { bos_safety_executing_frame = 2 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_safety_progress < bos_current }
					}
					set_temp_variable = { bos_safety_executing_frame = 3 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_safety_progress < bos_current }
					}
					set_temp_variable = { bos_safety_executing_frame = 4 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_safety_progress < bos_current }
					}
					set_temp_variable = { bos_safety_executing_frame = 5 }
				}
			}
			bos_safety_btn_executing_text_visible = {
				has_country_flag = BOS_BuildSafety
			}

			bos_smelt_btn_visible = {
				not = {
					has_country_flag = BOS_BuildSmelt
				}
				controls_state = 157
			}
			bos_smelt_btn_click_enabled = {
				has_manpower > 499
				has_political_power > 9
				set_temp_variable = {
					BOS_need_construction_slots_num = 1
				}
				BOS_has_x_available_construction_slots = yes
				set_temp_variable = {
					BOS_available_space_to_check_num = 1
				}
				BOS_has_x_available_space = yes
				BOS_has_x_available_administration_capacity = yes
				157 = {
					metal_generator > 0
				}
			}
			bos_smelt_btn_executing_visible = {
				has_country_flag = BOS_BuildSmelt

				set_temp_variable = { bos_part = BOS_construction_time }
				divide_temp_variable = { bos_part = 5 }
				set_temp_variable = { bos_current = bos_part }
				
				if = {
					limit = {
						check_variable = { BOS_build_smelt_progress < bos_current }
					}
					set_temp_variable = { bos_smelt_executing_frame = 1 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_smelt_progress < bos_current }
					}
					set_temp_variable = { bos_smelt_executing_frame = 2 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_smelt_progress < bos_current }
					}
					set_temp_variable = { bos_smelt_executing_frame = 3 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_smelt_progress < bos_current }
					}
					set_temp_variable = { bos_smelt_executing_frame = 4 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_smelt_progress < bos_current }
					}
					set_temp_variable = { bos_smelt_executing_frame = 5 }
				}
			}
			bos_smelt_btn_executing_text_visible = {
				has_country_flag = BOS_BuildSmelt
			}

			bos_water_btn_visible = {
				not = {
					has_country_flag = BOS_BuildWater
				}
				controls_state = 157
			}
			bos_water_btn_click_enabled = {
				has_manpower > 499
				has_political_power > 9
				set_temp_variable = {
					BOS_need_construction_slots_num = 1
				}
				BOS_has_x_available_construction_slots = yes
				set_temp_variable = {
					BOS_available_space_to_check_num = 1
				}
				BOS_has_x_available_space = yes
				BOS_has_x_available_administration_capacity = yes
				157 = {
					water_generator > 0
				}
			}
			bos_water_btn_executing_visible = {
				has_country_flag = BOS_BuildWater

				set_temp_variable = { bos_part = BOS_construction_time }
				divide_temp_variable = { bos_part = 5 }
				set_temp_variable = { bos_current = bos_part }
				
				if = {
					limit = {
						check_variable = { BOS_build_water_progress < bos_current }
					}
					set_temp_variable = { bos_water_executing_frame = 1 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_water_progress < bos_current }
					}
					set_temp_variable = { bos_water_executing_frame = 2 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_water_progress < bos_current }
					}
					set_temp_variable = { bos_water_executing_frame = 3 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_water_progress < bos_current }
					}
					set_temp_variable = { bos_water_executing_frame = 4 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_water_progress < bos_current }
					}
					set_temp_variable = { bos_water_executing_frame = 5 }
				}
			}
			bos_water_btn_executing_text_visible = {
				has_country_flag = BOS_BuildWater
			}
		}

		properties = {
			bos_civil_btn_executing = {
				frame = bos_civil_executing_frame
			}
			bos_safety_btn_executing = {
				frame = bos_safety_executing_frame
			}
			bos_smelt_btn_executing = {
				frame = bos_smelt_executing_frame
			}
			bos_water_btn_executing = {
				frame = bos_water_executing_frame
			}
		}
	}

	bos_level_3_window = {
		window_name = "bos_level_3_window"
		parent_window_name = "bos_window_instance"
		visible = {
			has_country_flag = bos_level3Flag
			or = {
				FROM = {
					has_operation_token = {
						tag = BOS
						token = token_bos_scribes
					}
				}
				controls_state = 157
			}
		}

		effects = {
			bos_circuit_btn_click = {
				set_country_flag = {
					flag = BOS_BuildCircuit
					value = 1
				}

				add_political_power = -10
				add_manpower = -500
				157 = {
					remove_building = {
						type = circuitry_generator
						level = 1
					}
				}
				set_temp_variable = {
					BOS_available_space_to_change = 1
				}
				bos_change_available_space = yes
				bos_minus_one_construction_slots_simple = yes
				
				if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_2
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_2
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = { 
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_3
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_3
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = { 

						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_4
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_4
						scope = BOS
						days = BOS_construction_time
					}
				}
			}

			bos_arms_btn_click = {
				set_country_flag = {
					flag = BOS_BuildArms
					value = 1
				}
				add_manpower = -500
				157 = {
					remove_building = {
						type = arms_factory
						level = 1
					}
				}
				set_temp_variable = {
					BOS_available_space_to_change = 1
				}
				bos_change_available_space = yes
				bos_minus_one_construction_slots_simple = yes
				add_political_power = -10
				if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_2
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_2
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = { 
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_3
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_3
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = { 

						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_4
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_4
						scope = BOS
						days = BOS_construction_time
					}
				}
			}

			bos_lab_btn_click = {
				set_country_flag = {
					flag = BOS_BuildLab
					value = 1
				}

				add_political_power = -10
				if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_2
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_2
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = { 
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_3
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_3
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = { 

						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_4
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_4
						scope = BOS
						days = BOS_construction_time
					}
				}

				add_manpower = -500
				set_temp_variable = {
					BOS_available_space_to_change = 2
				}
				bos_change_available_space = yes
				bos_minus_one_construction_slots_simple = yes
			}
		}

		triggers = {
			bos_circuit_btn_visible = {
				not = {
					has_country_flag = BOS_BuildCircuit
				}
				controls_state = 157
			}
			bos_circuit_btn_click_enabled = {
				has_political_power > 9
				has_manpower > 499
				set_temp_variable = {
					BOS_need_construction_slots_num = 1
				}
				BOS_has_x_available_construction_slots = yes
				set_temp_variable = {
					BOS_available_space_to_check_num = 1
				}
				BOS_has_x_available_space = yes
				BOS_has_x_available_administration_capacity = yes
				157 = {
					circuitry_generator > 0
				}
			}
			bos_circuit_btn_executing_visible = {
				has_country_flag = BOS_BuildCircuit

				set_temp_variable = { bos_part = BOS_construction_time }
				divide_temp_variable = { bos_part = 5 }
				set_temp_variable = { bos_current = bos_part }
				
				if = {
					limit = {
						check_variable = { BOS_build_circuit_progress < bos_current }
					}
					set_temp_variable = { bos_circuit_executing_frame = 1 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_circuit_progress < bos_current }
					}
					set_temp_variable = { bos_circuit_executing_frame = 2 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_circuit_progress < bos_current }
					}
					set_temp_variable = { bos_circuit_executing_frame = 3 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_circuit_progress < bos_current }
					}
					set_temp_variable = { bos_circuit_executing_frame = 4 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_circuit_progress < bos_current }
					}
					set_temp_variable = { bos_circuit_executing_frame = 5 }
				}
			}
			bos_circuit_btn_executing_text_visible = {
				has_country_flag = BOS_BuildCircuit
			}

			bos_arms_btn_visible = {
				not = {
					has_country_flag = BOS_BuildArms
				}
				controls_state = 157
			}
			bos_arms_btn_click_enabled = {
				has_political_power > 9
				has_manpower > 499
				set_temp_variable = {
					BOS_need_construction_slots_num = 1
				}
				BOS_has_x_available_construction_slots = yes
				set_temp_variable = {
					BOS_available_space_to_check_num = 1
				}
				BOS_has_x_available_space = yes
				BOS_has_x_available_administration_capacity = yes
				157 = {
					arms_factory > 0
				}
			}
			bos_arms_btn_executing_visible = {
				has_country_flag = BOS_BuildArms

				set_temp_variable = { bos_part = BOS_construction_time }
				divide_temp_variable = { bos_part = 5 }
				set_temp_variable = { bos_current = bos_part }
				
				if = {
					limit = {
						check_variable = { BOS_build_arms_progress < bos_current }
					}
					set_temp_variable = { bos_arms_executing_frame = 1 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_arms_progress < bos_current }
					}
					set_temp_variable = { bos_arms_executing_frame = 2 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_arms_progress < bos_current }
					}
					set_temp_variable = { bos_arms_executing_frame = 3 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_arms_progress < bos_current }
					}
					set_temp_variable = { bos_arms_executing_frame = 4 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_arms_progress < bos_current }
					}
					set_temp_variable = { bos_arms_executing_frame = 5 }
				}
			}
			bos_arms_btn_executing_text_visible = {
				has_country_flag = BOS_BuildArms
			}

			bos_lab_btn_visible = {
				not = {
					has_country_flag = BOS_BuildLab
				}
				controls_state = 157
				set_temp_variable = {
					BOS_temp_building_to_test = BOS_underground_building_lab
				}
				set_temp_variable = {
					BOS_temp_building_to_test_max = BOS_maximum_labs_allowed
				}
				bos_has_not_reached_building_cap = yes
			}
			bos_lab_btn_click_enabled = {
				has_political_power > 9
				has_manpower > 499
				set_temp_variable = {
					BOS_need_construction_slots_num = 1
				}
				BOS_has_x_available_construction_slots = yes
				set_temp_variable = {
					BOS_available_space_to_check_num = 2
				}
				BOS_has_x_available_space = yes
				BOS_has_x_available_administration_capacity = yes
			}
			bos_lab_btn_executing_visible = {
				has_country_flag = BOS_BuildLab

				set_temp_variable = { bos_part = BOS_construction_time }
				divide_temp_variable = { bos_part = 5 }
				set_temp_variable = { bos_current = bos_part }
				
				if = {
					limit = {
						check_variable = { BOS_build_lab_progress < bos_current }
					}
					set_temp_variable = { bos_lab_executing_frame = 1 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_lab_progress < bos_current }
					}
					set_temp_variable = { bos_lab_executing_frame = 2 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_lab_progress < bos_current }
					}
					set_temp_variable = { bos_lab_executing_frame = 3 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_lab_progress < bos_current }
					}
					set_temp_variable = { bos_lab_executing_frame = 4 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_lab_progress < bos_current }
					}
					set_temp_variable = { bos_lab_executing_frame = 5 }
				}
			}
			bos_lab_btn_executing_text_visible = {
				has_country_flag = BOS_BuildLab
			}
		}

		properties = {
			bos_circuit_btn_executing = {
				frame = bos_circuit_executing_frame
			}
			bos_arms_btn_executing = {
				frame = bos_arms_executing_frame
			}
			bos_lab_btn_executing = {
				frame = bos_lab_executing_frame
			}
		}
	}

	bos_level_4_window = {
		window_name = "bos_level_4_window"
		parent_window_name = "bos_window_instance"
		visible = {
			has_country_flag = bos_level4Flag
			or = {
				FROM = {
					has_operation_token = {
						tag = BOS
						token = token_bos_paladin
					}
				}
				controls_state = 157
			}
		}

		effects = {
			bos_admin_btn_click = {
				set_country_flag = {
					flag = BOS_BuildAdmin
					value = 1
				}
				add_manpower = -500
				set_temp_variable = {
					BOS_available_space_to_change = 10
				}
				bos_change_available_space = yes
				bos_minus_one_construction_slots_simple = yes

				add_political_power = -10
				if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_2
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_2
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = { 
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_3
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_3
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = { 

						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_4
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_4
						scope = BOS
						days = BOS_construction_time
					}
				}
			}

			bos_power_btn_click = {
				set_country_flag = {
					flag = BOS_BuildPower
					value = 1
				}

				add_political_power = -10
				if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_2
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_2
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = { 
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_3
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_3
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = { 

						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_4
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_4
						scope = BOS
						days = BOS_construction_time
					}
				}

				add_manpower = -500
				157 = {
					remove_building = {
						type = electricity_generator
						level = 1
					}
				}
				set_temp_variable = {
					BOS_available_space_to_change = 1
				}
				bos_change_available_space = yes
				bos_minus_one_construction_slots_simple = yes
			}
		}

		triggers = {
			bos_admin_btn_visible = {
				not = {
					has_country_flag = BOS_BuildAdmin
				}
				controls_state = 157
				set_temp_variable = {
					BOS_temp_building_to_test = BOS.BOS_underground_building_administration_centers
				}
				set_temp_variable = {
					BOS_temp_building_to_test_max = BOS_maximum_admin_centers_allowed
				}
				bos_has_not_reached_building_cap = yes
			}
			bos_admin_btn_click_enabled = {
				has_political_power > 9
				has_manpower > 499
				set_temp_variable = {
					BOS_need_construction_slots_num = 1
				}
				BOS_has_x_available_construction_slots = yes
				set_temp_variable = {
					BOS_available_space_to_check_num = 10
				}
				BOS_has_x_available_space = yes
				BOS_has_x_available_administration_capacity = yes
			}
			bos_admin_btn_executing_visible = {
				has_country_flag = BOS_BuildAdmin

				set_temp_variable = { bos_part = BOS_construction_time }
				divide_temp_variable = { bos_part = 5 }
				set_temp_variable = { bos_current = bos_part }
				
				if = {
					limit = {
						check_variable = { BOS_build_admin_progress < bos_current }
					}
					set_temp_variable = { bos_admin_executing_frame = 1 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_admin_progress < bos_current }
					}
					set_temp_variable = { bos_admin_executing_frame = 2 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_admin_progress < bos_current }
					}
					set_temp_variable = { bos_admin_executing_frame = 3 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_admin_progress < bos_current }
					}
					set_temp_variable = { bos_admin_executing_frame = 4 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_admin_progress < bos_current }
					}
					set_temp_variable = { bos_admin_executing_frame = 5 }
				}
			}
			bos_admin_btn_executing_text_visible = {
				has_country_flag = BOS_BuildAdmin
			}

			bos_power_btn_visible = {
				not = {
					has_country_flag = BOS_BuildPower
				}
				controls_state = 157
			}
			bos_power_btn_click_enabled = {
				has_political_power > 9
				has_manpower > 499
				set_temp_variable = {
					BOS_need_construction_slots_num = 1
				}
				BOS_has_x_available_construction_slots = yes
				set_temp_variable = {
					BOS_available_space_to_check_num = 1
				}
				BOS_has_x_available_space = yes
				BOS_has_x_available_administration_capacity = yes
				157 = {
					electricity_generator > 0
				}
			}
			bos_power_btn_executing_visible = {
				has_country_flag = BOS_BuildPower

				set_temp_variable = { bos_part = BOS_construction_time }
				divide_temp_variable = { bos_part = 5 }
				set_temp_variable = { bos_current = bos_part }
				
				if = {
					limit = {
						check_variable = { BOS_build_power_progress < bos_current }
					}
					set_temp_variable = { bos_power_executing_frame = 1 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_power_progress < bos_current }
					}
					set_temp_variable = { bos_power_executing_frame = 2 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_power_progress < bos_current }
					}
					set_temp_variable = { bos_power_executing_frame = 3 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_power_progress < bos_current }
					}
					set_temp_variable = { bos_power_executing_frame = 4 }
				}
				else_if = {
					limit = {
						add_to_temp_variable = {
							bos_current = bos_part
						}
						check_variable = { BOS_build_power_progress < bos_current }
					}
					set_temp_variable = { bos_power_executing_frame = 5 }
				}
			}
			bos_power_btn_executing_text_visible = {
				has_country_flag = BOS_BuildPower
			}
		}

		properties = {
			bos_admin_btn_executing = {
				frame = bos_admin_executing_frame
			}
			bos_power_btn_executing = {
				frame = bos_power_executing_frame
			}
		}
	}
	
# Level Switcher
	bos_level_switcher = {
		window_name = "bos_level_switcher"
		parent_window_name = "bos_window_instance"
		
		
		effects = {
			bos_level1Btn_click = {
				ROOT = {
					hideAllLevel = yes
					set_country_flag = bos_level1Flag
				}
			}

			bos_level2Btn_click = {
				ROOT = {
					hideAllLevel = yes
					set_country_flag = bos_level2Flag
				}
			}

			bos_level3Btn_click = {
				ROOT = {
					hideAllLevel = yes
					set_country_flag = bos_level3Flag
				}
			}

			bos_level4Btn_click = {
				ROOT = {
					hideAllLevel = yes
					set_country_flag = bos_level4Flag
				}
			}
		}

		triggers = {
			bos_level1Btn_visible = {
				ROOT = {
					NOT = { has_country_flag = bos_level1Flag }
				}
			}
			bos_level1BtnSelect_visible = {
				ROOT = {
					has_country_flag = bos_level1Flag
				}
			}
			bos_level2Btn_visible = {
				ROOT = {
					NOT = { has_country_flag = bos_level2Flag }
				}
			}
			bos_level2BtnSelect_visible = {
				ROOT = {
					has_country_flag = bos_level2Flag
				}
			}
			bos_level3Btn_visible = {
				ROOT = {
					NOT = { has_country_flag = bos_level3Flag }
				}
			}
			bos_level3BtnSelect_visible = {
				ROOT = {
					has_country_flag = bos_level3Flag
				}
			}
			bos_level4Btn_visible = {
				ROOT = {
					NOT = { has_country_flag = bos_level4Flag }
				}
			}
			bos_level4BtnSelect_visible = {
				ROOT = {
					has_country_flag = bos_level4Flag
				}
			}
		}
	}
# Decisions
	bos_decisions_panel = {
		window_name = "bos_decisions_panel"
		parent_window_name = "bos_window_instance"
		visible = {
			or = {
				FROM = {
					has_operation_token = {
						tag = BOS
						token = token_bos_elder
					}
				}
				controls_state = 157
			}
		}
		effects = {
			bos_decision1_click = {
				set_country_flag = {
					flag = BOS_AdmInitEffotConst
					value = 1
				}

				add_command_power = -25
				add_manpower = -100
				
				if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active
						scope = BOS
						days = BOS_effot_time
					}
				}
				else_if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_2
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_2
						scope = BOS
						days = BOS_effot_time
					}
				}
				else_if = {
					limit = { 
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_3
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_3
						scope = BOS
						days = BOS_effot_time
					}
				}
				else_if = {
					limit = { 

						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_4
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_4
						scope = BOS
						days = BOS_effot_time
					}
				}

				add_dynamic_modifier = {
					modifier = bos_admin_decision_construct_active
					scope = BOS
					days = BOS_effot_time
				}
			}

			bos_decision2_click = {
				set_country_flag = {
					flag = BOS_AdmInitEffotProd
					value = 1
				}

				add_command_power = -25
				add_manpower = -100
				
				if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active
						scope = BOS
						days = BOS_effot_time
					}
				}
				else_if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_2
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_2
						scope = BOS
						days = BOS_effot_time
					}
				}
				else_if = {
					limit = { 
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_3
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_3
						scope = BOS
						days = BOS_effot_time
					}
				}
				else_if = {
					limit = { 

						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_4
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_4
						scope = BOS
						days = BOS_effot_time
					}
				}

				add_dynamic_modifier = {
					modifier = bos_admin_decision_production_active
					scope = BOS
					days = BOS_effot_time
				}
			}

			bos_decision3_click = {
				set_country_flag = {
					flag = BOS_AdmInitEffotResearch
					value = 1
				}

				add_command_power = -25
				add_manpower = -100
				
				if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active
						scope = BOS
						days = BOS_effot_time
					}
				}
				else_if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_2
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_2
						scope = BOS
						days = BOS_effot_time
					}
				}
				else_if = {
					limit = { 
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_3
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_3
						scope = BOS
						days = BOS_effot_time
					}
				}
				else_if = {
					limit = { 

						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_4
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_4
						scope = BOS
						days = BOS_effot_time
					}
				}

				add_dynamic_modifier = {
					modifier = bos_admin_decision_research_active
					scope = BOS
					days = BOS_effot_time
				}
			}

			bos_decision4_click = {
				set_country_flag = {
					flag = BOS_AdmInitEffotPolit
					value = 1
				}

				add_command_power = -25
				add_manpower = -100
				
				if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active
						scope = BOS
						days = BOS_effot_time
					}
				}
				else_if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_2
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_2
						scope = BOS
						days = BOS_effot_time
					}
				}
				else_if = {
					limit = { 
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_3
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_3
						scope = BOS
						days = BOS_effot_time
					}
				}
				else_if = {
					limit = { 

						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_4
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_4
						scope = BOS
						days = BOS_effot_time
					}
				}

				add_dynamic_modifier = {
					modifier = bos_admin_decision_polit_active
					scope = BOS
					days = BOS_effot_time
				}
			}

			bos_decision5_click = {
				set_country_flag = {
					flag = BOS_AdmUndergroundConstruction
					value = 1
				}
				add_political_power = -10
				add_manpower = -100
				
				if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_2
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_2
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = { 
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_3
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_3
						scope = BOS
						days = BOS_construction_time
					}
				}
				else_if = {
					limit = { 

						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_4
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_4
						scope = BOS
						days = BOS_construction_time
					}
				}
			}

			bos_decision6_click = {
				set_country_flag = {
					flag = BOS_AdmEquipPalad 
					value = 1
				}

				army_experience = -10
				add_manpower = -100
				
				if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active
						scope = BOS
						days = BOS_equip_time
					}
				}
				else_if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_2
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_2
						scope = BOS
						days = BOS_equip_time
					}
				}
				else_if = {
					limit = { 
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_3
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_3
						scope = BOS
						days = BOS_equip_time
					}
				}
				else_if = {
					limit = { 

						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_4
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_4
						scope = BOS
						days = BOS_equip_time
					}
				}
			}
				
			bos_decision7_click = {
				set_country_flag = {
					flag = BOS_AdmEquipInit
					value = 1
				}
				army_experience = -10
				add_manpower = -100
				
				if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active
						scope = BOS
						days = BOS_equip_time
					}
				}
				else_if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_2
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_2
						scope = BOS
						days = BOS_equip_time
					}
				}
				else_if = {
					limit = { 
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_3
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_3
						scope = BOS
						days = BOS_equip_time
					}
				}
				else_if = {
					limit = { 

						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_4
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_4
						scope = BOS
						days = BOS_equip_time
					}
				}
			}

			bos_decision8_click = {
				set_country_flag = {
					flag = BOS_AdmDigDeeper
					value = 1
				}
				add_manpower = -1000
				if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active
						scope = BOS
						days = BOS_dig_deeper_time
					}
				}
				else_if = {
					limit = {
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_2
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_2
						scope = BOS
						days = BOS_dig_deeper_time
					}
				}
				else_if = {
					limit = { 
						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_3
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_3
						scope = BOS
						days = BOS_dig_deeper_time
					}
				}
				else_if = {
					limit = { 

						not = {
							has_dynamic_modifier = {
								modifier = bos_admin_decision_active_4
								scope = BOS
							}
						}
					}
					add_dynamic_modifier = {
						modifier = bos_admin_decision_active_4
						scope = BOS
						days = BOS_dig_deeper_time
					}
				}
				add_dynamic_modifier = {
					modifier = bos_admin_decision_dig_deeper_active
					scope = BOS
					days = BOS_dig_deeper_time
				}
			}
		}
		triggers = {

			# Decision 1
				bos_decision1_visible = {
					not = {
						has_country_flag = BOS_AdmInitEffotConst
					}
				}
				bos_decision1_click_enabled = {
					command_power > 24
					has_completed_focus = bos_nf_engineers_of_peace
					has_manpower > 99
					BOS_has_x_available_administration_capacity = yes
					controls_state = 157
				}
				bos_decision1_executing_visible = {
					has_country_flag = BOS_AdmInitEffotConst

					set_temp_variable = { bos_part = BOS_effot_time }
					divide_temp_variable = { bos_part = 5 }
					set_temp_variable = { bos_current = bos_part }

					if = {
						limit = {
							check_variable = { BOS_construct_effot_progress < bos_current }
						}
						set_temp_variable = { bos_decision1_executing_frame = 1 }
					}
					else_if = {
						limit = {
							add_to_temp_variable = {
								bos_current = bos_part
							}
							check_variable = { BOS_construct_effot_progress < bos_current }
						}
						set_temp_variable = { bos_decision1_executing_frame = 2 }
					}
					else_if = {
						limit = {
							add_to_temp_variable = {
								bos_current = bos_part
							}
							check_variable = { BOS_construct_effot_progress < bos_current }
						}
						set_temp_variable = { bos_decision1_executing_frame = 3 }
					}
					else_if = {
						limit = {
							add_to_temp_variable = {
								bos_current = bos_part
							}
							check_variable = { BOS_construct_effot_progress < bos_current }
						}
						set_temp_variable = { bos_decision1_executing_frame = 4 }
					}
					else_if = {
						limit = {
							add_to_temp_variable = {
								bos_current = bos_part
							}
							check_variable = { BOS_construct_effot_progress < bos_current }
						}
						set_temp_variable = { bos_decision1_executing_frame = 5 }
					}
				}
				bos_decision1_executing_text_visible = {
					has_country_flag = BOS_AdmInitEffotConst
				}

			# Decision 2
				bos_decision2_visible = {
					not = {
						has_country_flag = BOS_AdmInitEffotProd
					}
				}
				bos_decision2_click_enabled = {
					command_power > 24
					has_completed_focus = bos_nf_engineers_of_war
					has_manpower > 99
					BOS_has_x_available_administration_capacity = yes
					controls_state = 157
				}
				bos_decision2_executing_visible = {
					has_country_flag = BOS_AdmInitEffotProd

					set_temp_variable = { bos_part = BOS_effot_time }
					divide_temp_variable = { bos_part = 5 }
					set_temp_variable = { bos_current = bos_part }

					if = {
						limit = {
							check_variable = { BOS_Production_effot_progress < bos_current }
						}
						set_temp_variable = { bos_decision2_executing_frame = 1 }
					}
					else_if = {
						limit = {
							add_to_temp_variable = {
								bos_current = bos_part
							}
							check_variable = { BOS_Production_effot_progress < bos_current }
						}
						set_temp_variable = { bos_decision2_executing_frame = 2 }
					}
					else_if = {
						limit = {
							add_to_temp_variable = {
								bos_current = bos_part
							}
							check_variable = { BOS_Production_effot_progress < bos_current }
						}
						set_temp_variable = { bos_decision2_executing_frame = 3 }
					}
					else_if = {
						limit = {
							add_to_temp_variable = {
								bos_current = bos_part
							}
							check_variable = { BOS_Production_effot_progress < bos_current }
						}
						set_temp_variable = { bos_decision2_executing_frame = 4 }
					}
					else_if = {
						limit = {
							add_to_temp_variable = {
								bos_current = bos_part
							}
							check_variable = { BOS_Production_effot_progress < bos_current }
						}
						set_temp_variable = { bos_decision2_executing_frame = 5 }
					}
				}
				bos_decision2_executing_text_visible = {
					has_country_flag = BOS_AdmInitEffotProd
				}

			# Decision 3
				bos_decision3_visible = {
					not = {
						has_country_flag = BOS_AdmInitEffotResearch
					}
				}
				bos_decision3_click_enabled = {
					command_power > 24
					has_completed_focus = bos_nf_keepers_of_knowledge
					has_manpower > 99
					BOS_has_x_available_administration_capacity = yes
					controls_state = 157
				}
				bos_decision3_executing_visible = {
					has_country_flag = BOS_AdmInitEffotResearch

					set_temp_variable = { bos_part = BOS_effot_time }
					divide_temp_variable = { bos_part = 5 }
					set_temp_variable = { bos_current = bos_part }

					if = {
						limit = {
							check_variable = { BOS_research_effot_progress < bos_current }
						}
						set_temp_variable = { bos_decision3_executing_frame = 1 }
					}
					else_if = {
						limit = {
							add_to_temp_variable = {
								bos_current = bos_part
							}
							check_variable = { BOS_research_effot_progress < bos_current }
						}
						set_temp_variable = { bos_decision3_executing_frame = 2 }
					}
					else_if = {
						limit = {
							add_to_temp_variable = {
								bos_current = bos_part
							}
							check_variable = { BOS_research_effot_progress < bos_current }
						}
						set_temp_variable = { bos_decision3_executing_frame = 3 }
					}
					else_if = {
						limit = {
							add_to_temp_variable = {
								bos_current = bos_part
							}
							check_variable = { BOS_research_effot_progress < bos_current }
						}
						set_temp_variable = { bos_decision3_executing_frame = 4 }
					}
					else_if = {
						limit = {
							add_to_temp_variable = {
								bos_current = bos_part
							}
							check_variable = { BOS_research_effot_progress < bos_current }
						}
						set_temp_variable = { bos_decision3_executing_frame = 5 }
					}
				}
				bos_decision3_executing_text_visible = {
					has_country_flag = BOS_AdmInitEffotResearch
				}

			# Decision 4
				bos_decision4_visible = {
					not = {
						has_country_flag = BOS_AdmInitEffotPolit
					}
				}
				bos_decision4_click_enabled = {
					command_power > 24
					has_completed_focus = bos_nf_bringers_of_progress
					has_manpower > 99
					BOS_has_x_available_administration_capacity = yes
					controls_state = 157
				}
				bos_decision4_executing_visible = {
					has_country_flag = BOS_AdmInitEffotPolit

					set_temp_variable = { bos_part = BOS_effot_time }
					divide_temp_variable = { bos_part = 5 }
					set_temp_variable = { bos_current = bos_part }

					if = {
						limit = {
							check_variable = { BOS_polit_effot_progress < bos_current }
						}
						set_temp_variable = { bos_decision4_executing_frame = 1 }
					}
					else_if = {
						limit = {
							add_to_temp_variable = {
								bos_current = bos_part
							}
							check_variable = { BOS_polit_effot_progress < bos_current }
						}
						set_temp_variable = { bos_decision4_executing_frame = 2 }
					}
					else_if = {
						limit = {
							add_to_temp_variable = {
								bos_current = bos_part
							}
							check_variable = { BOS_polit_effot_progress < bos_current }
						}
						set_temp_variable = { bos_decision4_executing_frame = 3 }
					}
					else_if = {
						limit = {
							add_to_temp_variable = {
								bos_current = bos_part
							}
							check_variable = { BOS_polit_effot_progress < bos_current }
						}
						set_temp_variable = { bos_decision4_executing_frame = 4 }
					}
					else_if = {
						limit = {
							add_to_temp_variable = {
								bos_current = bos_part
							}
							check_variable = { BOS_polit_effot_progress < bos_current }
						}
						set_temp_variable = { bos_decision4_executing_frame = 5 }
					}
				}
				bos_decision4_executing_text_visible = {
					has_country_flag = BOS_AdmInitEffotPolit
				}

			# Decision 5
				bos_decision5_visible = {
					not = {
						has_country_flag = BOS_AdmUndergroundConstruction
					}
				}
				bos_decision5_click_enabled = {
					has_political_power > 9
					has_manpower > 99
					BOS_has_x_available_administration_capacity = yes
					controls_state = 157
				}
				bos_decision5_executing_visible = {
					has_country_flag = BOS_AdmUndergroundConstruction

					set_temp_variable = { bos_part = BOS_construction_time }
					divide_temp_variable = { bos_part = 5 }
					set_temp_variable = { bos_current = bos_part }

					if = {
						limit = {
							check_variable = { BOS_underground_construction_progress < bos_current }
						}
						set_temp_variable = { bos_decision5_executing_frame = 1 }
					}
					else_if = {
						limit = {
							add_to_temp_variable = {
								bos_current = bos_part
							}
							check_variable = { BOS_underground_construction_progress < bos_current }
						}
						set_temp_variable = { bos_decision5_executing_frame = 2 }
					}
					else_if = {
						limit = {
							add_to_temp_variable = {
								bos_current = bos_part
							}
							check_variable = { BOS_underground_construction_progress < bos_current }
						}
						set_temp_variable = { bos_decision5_executing_frame = 3 }
					}
					else_if = {
						limit = {
							add_to_temp_variable = {
								bos_current = bos_part
							}
							check_variable = { BOS_underground_construction_progress < bos_current }
						}
						set_temp_variable = { bos_decision5_executing_frame = 4 }
					}
					else_if = {
						limit = {
							add_to_temp_variable = {
								bos_current = bos_part
							}
							check_variable = { BOS_underground_construction_progress < bos_current }
						}
						set_temp_variable = { bos_decision5_executing_frame = 5 }
					}
				}
				bos_decision5_executing_text_visible = {
					has_country_flag = BOS_AdmUndergroundConstruction
				}

			# Decision 6
				bos_decision6_visible = {
						not = {
							or = {
								has_country_flag = BOS_AdmEquipPalad 
								has_country_flag = BOS_AdmEquipPaladComplete 
							}
						}
					}
				bos_decision6_click_enabled = {
					has_completed_focus = bos_nf_memories_of_heroes
					has_manpower > 99
					has_army_experience > 9
					BOS_has_x_available_administration_capacity = yes
					controls_state = 157
				}
				bos_decision6_executing_visible = {
					or = {
						has_country_flag = BOS_AdmEquipPalad 
						has_country_flag = BOS_AdmEquipPaladComplete 
					}
					if = {
						limit = {
							has_country_flag = BOS_AdmEquipPaladComplete 
						}
						set_temp_variable = { bos_decision6_executing_frame = 6 }
						else = {
							set_temp_variable = { bos_part = BOS_equip_time }
							divide_temp_variable = { bos_part = 5 }
							set_temp_variable = { bos_current = bos_part }
		
							if = {
								limit = {
									check_variable = { BOS_equip_palad_progress < bos_current }
								}
								set_temp_variable = { bos_decision6_executing_frame = 1 }
							}
							else_if = {
								limit = {
									add_to_temp_variable = {
										bos_current = bos_part
									}
									check_variable = { BOS_equip_palad_progress < bos_current }
								}
								set_temp_variable = { bos_decision6_executing_frame = 2 }
							}
							else_if = {
								limit = {
									add_to_temp_variable = {
										bos_current = bos_part
									}
									check_variable = { BOS_equip_palad_progress < bos_current }
								}
								set_temp_variable = { bos_decision6_executing_frame = 3 }
							}
							else_if = {
								limit = {
									add_to_temp_variable = {
										bos_current = bos_part
									}
									check_variable = { BOS_equip_palad_progress < bos_current }
								}
								set_temp_variable = { bos_decision6_executing_frame = 4 }
							}
							else_if = {
								limit = {
									add_to_temp_variable = {
										bos_current = bos_part
									}
									check_variable = { BOS_equip_palad_progress < bos_current }
								}
								set_temp_variable = { bos_decision6_executing_frame = 5 }
							}
						}
					}
				}
				bos_decision6_complete_text_visible = {
					has_country_flag = BOS_AdmEquipPaladComplete
				}
				bos_decision6_executing_text_visible = {
					has_country_flag = BOS_AdmEquipPalad
				}

			# Decision 7
				bos_decision7_visible = {
					not = {
						or = {
							has_country_flag = BOS_AdmEquipInit 
							has_country_flag = BOS_AdmEquipInitComplete 
						}
					}
				}
				bos_decision7_click_enabled = {
					has_completed_focus = bos_nf_filled_with_purpose
					has_manpower > 99
					has_army_experience > 9
					BOS_has_x_available_administration_capacity = yes
					controls_state = 157
				}
				bos_decision7_executing_visible = {
					or = {
						has_country_flag = BOS_AdmEquipInit 
						has_country_flag = BOS_AdmEquipInitComplete
					}

					if = {
						limit = {
							has_country_flag = BOS_AdmEquipInitComplete
						}
						set_temp_variable = { bos_decision7_executing_frame = 6 }
						else = {
							set_temp_variable = { bos_part = BOS_equip_time }
							divide_temp_variable = { bos_part = 5 }
							set_temp_variable = { bos_current = bos_part }
		
							if = {
								limit = {
									check_variable = { BOS_equip_init_progress < bos_current }
								}
								set_temp_variable = { bos_decision7_executing_frame = 1 }
							}
							else_if = {
								limit = {
									add_to_temp_variable = {
										bos_current = bos_part
									}
									check_variable = { BOS_equip_init_progress < bos_current }
								}
								set_temp_variable = { bos_decision7_executing_frame = 2 }
							}
							else_if = {
								limit = {
									add_to_temp_variable = {
										bos_current = bos_part
									}
									check_variable = { BOS_equip_init_progress < bos_current }
								}
								set_temp_variable = { bos_decision7_executing_frame = 3 }
							}
							else_if = {
								limit = {
									add_to_temp_variable = {
										bos_current = bos_part
									}
									check_variable = { BOS_equip_init_progress < bos_current }
								}
								set_temp_variable = { bos_decision7_executing_frame = 4 }
							}
							else_if = {
								limit = {
									add_to_temp_variable = {
										bos_current = bos_part
									}
									check_variable = { BOS_equip_init_progress < bos_current }
								}
								set_temp_variable = { bos_decision7_executing_frame = 5 }
							}
						}
					}
				}
				bos_decision7_complete_text_visible = {
					has_country_flag = BOS_AdmEquipInitComplete
				}
				bos_decision7_executing_text_visible = {
					has_country_flag = BOS_AdmEquipInit
				}

			# Decision 8
				bos_decision8_visible = {
					not = {
						or = {
							has_country_flag = BOS_AdmDigDeeper 
							has_country_flag = BOS_AdmDigDeeperComplete 
						}
					}
				}
				bos_decision8_click_enabled = {
					has_completed_focus = bos_nf_room_to_grow
					controls_state = 157
					#custom_trigger_tooltip = {
					#	tooltip = bos_underground_dig_deeper_decision_has_not_reached_the_bottom
					#	NOT = {
					#		check_variable = {
					#			var = BOS_how_close_to_bottom
					#			value = 10
					#			compare = greater_than_or_equals
					#		}
					#	}
					#}
					has_manpower > 999
					BOS_has_x_available_administration_capacity = yes
				}
				bos_decision8_executing_visible = {
					or = {
						has_country_flag = BOS_AdmDigDeeper 
						has_country_flag = BOS_AdmDigDeeperComplete 
					}

					if = {
						limit = {
							has_country_flag = BOS_AdmDigDeeperComplete 
						}
						set_temp_variable = { bos_decision8_executing_frame = 6 }
						else = {
							set_temp_variable = { bos_part = BOS_dig_deeper_time }
							divide_temp_variable = { bos_part = 5 }
							set_temp_variable = { bos_current = bos_part }
							if = {
								limit = {
									check_variable = { BOS_dig_deeper_progress < bos_current }
								}
								set_temp_variable = { bos_decision8_executing_frame = 1 }
							}
							else_if = {
								limit = {
									add_to_temp_variable = {
										bos_current = bos_part
									}
									check_variable = { BOS_dig_deeper_progress < bos_current }
								}
								set_temp_variable = { bos_decision8_executing_frame = 2 }
							}
							else_if = {
								limit = {
									add_to_temp_variable = {
										bos_current = bos_part
									}
									check_variable = { BOS_dig_deeper_progress < bos_current }
								}
								set_temp_variable = { bos_decision8_executing_frame = 3 }
							}
							else_if = {
								limit = {
									add_to_temp_variable = {
										bos_current = bos_part
									}
									check_variable = { BOS_dig_deeper_progress < bos_current }
								}
								set_temp_variable = { bos_decision8_executing_frame = 4 }
							}
							else_if = {
								limit = {
									add_to_temp_variable = {
										bos_current = bos_part
									}
									check_variable = { BOS_dig_deeper_progress < bos_current }
								}
								set_temp_variable = { bos_decision8_executing_frame = 5 }
							}
						}
					}
				}
				bos_decision8_complete_text_visible = {
					has_country_flag = BOS_AdmDigDeeperComplete
				}
				bos_decision8_executing_text_visible = {
					has_country_flag = BOS_AdmDigDeeper
				}
		}
		properties = {
			bos_decision1_executing = {
				frame = bos_decision1_executing_frame
			}
			bos_decision2_executing = {
				frame = bos_decision2_executing_frame
			}
			bos_decision3_executing = {
				frame = bos_decision3_executing_frame
			}
			bos_decision4_executing = {
				frame = bos_decision4_executing_frame
			}
			bos_decision5_executing = {
				frame = bos_decision5_executing_frame
			}
			bos_decision6_executing = {
				frame = bos_decision6_executing_frame
			}
			bos_decision7_executing = {
				frame = bos_decision7_executing_frame
			}
			bos_decision8_executing = {
				frame = bos_decision8_executing_frame
			}
		}
	}
}